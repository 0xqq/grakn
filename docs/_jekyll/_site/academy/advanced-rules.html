<!DOCTYPE html>

<head>
    
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="In this lesson you will learn more advanced uses of reasoning and how to chain inference rules.">
<meta name="keywords" content="getting-startedgraql,  setup, getting started, GRAKN.AI, Grakn Labs, grakn, graql, grakn.ai, Mindmaps Research, Mindmaps Research Ltd, MindmapsDB, mindmaps, mindmaps graph, mindmaps.io, knowledge graph, distributed knowledge graph, development platform, developer tool, data platform, programming langauge, query langauge, database, semantic database, distributed semantic database, distributed database, graph database, semantic search, data exploration, recommendation system, knowledge management, knowledge engineering, real-time analytics, advanced analytics, reasoning engine, inference engine, expert systems, semantic applications, research engines, data management, business intelligence, big data, semantic web, semantic data, knowledge representation, automated reasoning, semantic network, knowledge ontology, semantic graph, ontology engineering, graph based knowledge representation, artificial intelligence,">
<title>Advanced inference rules | GRAKN.AI</title>
<meta property="og:description" content="In this lesson you will learn more advanced uses of reasoning and how to chain inference rules.">
<meta property="og:title" content="Advanced inference rules | GRAKN.AI" >
<meta property="og:image" content="/images/og-image.png" >
<link rel="stylesheet" href="/css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="/css/modern-business.css">
<link rel="stylesheet" href="/css/lavish-bootstrap.css">
<link rel="stylesheet" href="/css/hamburger.min.css">
<link rel="stylesheet" href="/css/customstyles.css">
<link rel="stylesheet" href="/css/theme-white.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="/js/jquery.navgoco.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="/js/toc.js"></script>
<script src="/js/prism.js"></script>
<script src="/js/prism-graql.js"></script>
<script src="/js/customscripts.js"></script>

<link rel="shortcut icon" href="/favicon.ico">

<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '2009892122581066'); // Insert your pixel ID here.
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=2009892122581066&ev=PageView&noscript=1" alt="facebook pixel"
/></noscript>
<!-- DO NOT MODIFY -->
<!-- End Facebook Pixel Code -->

<!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/4332244.js"></script>
<!-- End of HubSpot Embed Code -->

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://grakn.ai/pages/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>
<body>

<svg xmlns="http://www.w3.org/2000/svg" width="0" height="0" style="display: none;">
    <symbol id="logo" viewBox="0 0 40 40" aria-labelledby="GRAKN.AI">
       <value>GRAKN.AI</value>
       <desc>A Distributed Knowledge Graph</desc>
       <polygon vector-effect="non-scaling-stroke" fill="transparent" stroke-linejoin="round" points="20,2 38,20 20,38 2,20"/>
       <polyline vector-effect="non-scaling-stroke" fill="transparent" stroke-linejoin="round" points="7.27,32.73 7.27,7.27 20,20 32.73,7.27 32.73,32.73"/>
    </symbol>
    <symbol id="github" viewBox="0 0 16 16" aria-labelledby="GitHub">
        <value>GitHub</value>
        <desc>GitHub</desc>
        <path vector-effect="non-scaling-stroke" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
    </symbol>
    <symbol id="gitter" viewBox="0 0 28 40" aria-labelledby="Gitter">
        <value>Gitter</value>
        <desc>Gitter</desc>
        <rect vector-effect="non-scaling-stroke" x="15.6" y="6.4" width="3.2" height="33.6"/>
        <rect vector-effect="non-scaling-stroke" x="22" y="6.4" width="3.2" height="17.6"/>
        <rect vector-effect="non-scaling-stroke" x="9.2" y="6.4" width="3.2" height="33.6"/>
        <rect vector-effect="non-scaling-stroke" x="2.8" width="3.2" height="24"/>
    </symbol>
    <symbol id="slack" viewBox="0 0 256 256" aria-labelledby="Slack">
        <path d="M165.963541,15.8384262 C162.07318,3.86308197 149.212328,-2.69009836 137.239082,1.20236066 C125.263738,5.09272131 118.710557,17.9535738 122.603016,29.9268197 L181.550164,211.292328 C185.597902,222.478689 197.682361,228.765377 209.282098,225.426885 C221.381246,221.943607 228.756984,209.093246 224.896,197.21023 C224.749115,196.756984 165.963541,15.8384262 165.963541,15.8384262"></path>
        <path d="M74.6260984,45.515541 C70.7336393,33.5422951 57.8727869,26.9891148 45.899541,30.8794754 C33.9241967,34.7698361 27.3710164,47.6306885 31.2634754,59.6060328 L90.210623,240.971541 C94.2583607,252.157902 106.34282,258.44459 117.942557,255.104 C130.041705,251.62282 137.417443,238.772459 133.556459,226.887344 C133.409574,226.436197 74.6260984,45.515541 74.6260984,45.515541"></path>
        <path d="M240.161574,166.045377 C252.136918,162.155016 258.688,149.294164 254.797639,137.31882 C250.907279,125.345574 238.046426,118.792393 226.07318,122.682754 L44.7076721,181.632 C33.5213115,185.677639 27.234623,197.762098 30.5731148,209.361836 C34.0563934,221.460984 46.9067541,228.836721 58.7897705,224.975738 C59.2430164,224.828852 240.161574,166.045377 240.161574,166.045377"></path>
        <path d="M82.507541,217.270557 C94.312918,213.434754 109.528131,208.491016 125.855475,203.186361 C122.019672,191.380984 117.075934,176.163672 111.76918,159.83423 L68.4191475,173.924721 L82.507541,217.270557"></path>
        <path d="M173.847082,187.591344 C190.235279,182.267803 205.467279,177.31777 217.195016,173.507148 C213.359213,161.70177 208.413377,146.480262 203.106623,130.146623 L159.75659,144.237115 L173.847082,187.591344"></path>
        <path d="M210.484459,74.7058361 C222.457705,70.8154754 229.010885,57.954623 225.120525,45.9792787 C221.230164,34.0060328 208.369311,27.4528525 196.393967,31.3432131 L15.028459,90.292459 C3.84209836,94.3380984 -2.44459016,106.422557 0.896,118.022295 C4.37718033,130.121443 17.227541,137.49718 29.1126557,133.636197 C29.5638033,133.489311 210.484459,74.7058361 210.484459,74.7058361"></path>
        <path d="M52.8220328,125.933115 C64.6274098,122.097311 79.8468197,117.151475 96.1762623,111.84682 C90.8527213,95.4565246 85.9026885,80.2245246 82.0920656,68.4946885 L38.731541,82.5872787 L52.8220328,125.933115"></path>
        <path d="M144.159475,96.256 C160.551869,90.9303607 175.785967,85.9803279 187.515803,82.1676066 C182.190164,65.7752131 177.240131,50.5390164 173.42741,38.807082 L130.068984,52.8996721 L144.159475,96.256"></path>
    </symbol>
</svg>

<div class="navigation-bar">
    <div class="container">
      <a class="navigation-bar__logo" href="https://grakn.ai/"><img src="https://grakn.ai/assets/svg/logo.svg" alt="Grakn AI"></a>
        <div class="navigation-bar__links navigation-bar__links--desktop">
            <a class="navigation-bar__link navigation-bar__link__inline navigation-bar__link__button" href="https://grakn.ai/download" id="download_nav_bar">Download</a>
            <div class="navigation-bar__link navigation-bar__link__dropdown">
                <!-- react-text: 233 -->Products
                <!-- /react-text --><i class="fa fa-caret-down" aria-hidden="true"></i>
                <div class="navigation-bar__link__dropdown__content"><a class="navigation-bar__link navigation-bar__link__dropdown__content__item animated__link" href="https://grakn.ai/grakn-core">Grakn Core</a><a class="navigation-bar__link navigation-bar__link__dropdown__content__item animated__link" href="https://grakn.ai/grakn-kbms">Grakn KBMS & Workbase</a></div>
            </div>
            <div class="navigation-bar__link navigation-bar__link__dropdown">
                <!-- react-text: 239 -->Solutions
                <!-- /react-text --><i class="fa fa-caret-down" aria-hidden="true"></i>
                <div class="navigation-bar__link__dropdown__content"><a class="navigation-bar__link navigation-bar__link__dropdown__content__item animated__link" href="https://grakn.ai/deployment">Deployment</a><a class="navigation-bar__link navigation-bar__link__dropdown__content__item animated__link" href="https://grakn.ai/services">Services</a><a class="navigation-bar__link navigation-bar__link__dropdown__content__item animated__link"
                        href="https://grakn.ai/support">Support</a></div>
            </div>
            <div class="navigation-bar__link navigation-bar__link__dropdown">
                <!-- react-text: 255 -->Developer
                <!-- /react-text --><i class="fa fa-caret-down" aria-hidden="true"></i>
                <div class="navigation-bar__link__dropdown__content"><a href="https://dev.grakn.ai/academy/" class="navigation-bar__link navigation-bar__link__dropdown__content__item animated__link" target="_self">Academy</a><a href="https://dev.grakn.ai" class="navigation-bar__link navigation-bar__link__dropdown__content__item animated__link" target="_self">Documentation</a><a href="https://discuss.grakn.ai/" class="navigation-bar__link navigation-bar__link__dropdown__content__item animated__link" target="_self">Discussion</a></div>
            </div><a class="navigation-bar__link navigation-bar__link__inline animated__link" href="https://grakn.ai/community">Community</a><a href="https://blog.grakn.ai/" class="navigation-bar__link navigation-bar__link__inline animated__link"
                target="_blank">Blog</a><a href="https://github.com/graknlabs/grakn" class="navigation-bar__link navigation-bar__link__inline" target="_blank"><i class="fa fa-2x fa-github navigation-bar__link__icon" aria-hidden="true"></i></a>
            </div>
            <div class="navigation-bar__links navigation-bar__links--mobile">
                <button id="hamburger-btn" class="navigation-bar__hamburger__button hamburger hamburger--collapse" aria-hidden="true"><span class="hamburger-box"><span class="hamburger-inner"></span></span></button>
                <div id="hamburger-menu" class="navigation-bar__hamburger">
                    <a class="navigation-bar__link navigation-bar__link__inline navigation-bar__link__button" href="https://grakn.ai/download" id="download_nav_bar_mobile">Download</a>
                    <div class="navigation-bar__hamburger__link navigation-bar__link navigation-bar__link__dropdown" 
                    data-links='{"Grakn Core": "https://grakn.ai/grakn-core","Grakn KBMS & Workbase": "https://grakn.ai/grakn-kbms"}'>
                        <!-- react-text: 333 -->Products
                        <!-- /react-text --><i class="fa fa-caret-right" aria-hidden="true"></i></div>
                    <div class="navigation-bar__hamburger__link navigation-bar__link navigation-bar__link__dropdown" 
                    data-links='{"Deployment": "https://grakn.ai/deployment","Services": "https://grakn.ai/services","Support": "https://grakn.ai/support"}'>
                        <!-- react-text: 336 -->Solutions
                        <!-- /react-text --><i class="fa fa-caret-right" aria-hidden="true"></i></div>
                    <div class="navigation-bar__hamburger__link navigation-bar__link navigation-bar__link__dropdown" 
                    data-links='{"Academy": "https://dev.grakn.ai/academy/","Documentation": "https://dev.grakn.ai/", "Discussion":"https://discuss.grakn.ai/"}'>
                        <!-- react-text: 342 -->Developer
                        <!-- /react-text --><i class="fa fa-caret-right" aria-hidden="true"></i></div><a class="navigation-bar__link navigation-bar__link__inline" href="https://grakn.ai/community">Community</a><a href="https://blog.grakn.ai/"
                        class="navigation-bar__link navigation-bar__link__inline" target="_blank">Blog</a><a href="https://github.com/graknlabs/grakn" class="navigation-bar__link navigation-bar__link__inline" target="_blank"><i class="fa fa-2x fa-github navigation-bar__link__icon" aria-hidden="true"></i></a></div>
                <div id="hamburger-menu-secondary"class="navigation-bar__hamburger__secondary">
                        <span id="hamburger-menu-secondary-back" class="navigation-bar__link navigation-bar__hamburger__secondary__back"><i class="fa fa-chevron-left" aria-hidden="true"></i><!-- react-text: 31 -->Back<!-- /react-text --></span>
                </div>

            </div>
    </div>
</div>
<!-- Page Content -->
<div class="container">
    <!-- Content Row -->
    <div class="row">
        <!-- Sidebar Column -->
        <div class="col-md-3 col-sidebar">
          









<ul id="mysidebar" class="nav">
    <!--start search-->
    <div id="search-demo-container">
            <input type="text" id="search-input" placeholder="Search">
            <ul id="results-container"></ul>
        </div>
        <script src="/js/jekyll-search.js" type="text/javascript"></script>
        <script type="text/javascript">
            SimpleJekyllSearch.init({
                searchInput: document.getElementById('search-input'),
                resultsContainer: document.getElementById('results-container'),
                
                dataSource: '/search.json',
                
                searchResultTemplate: '<li><a href="{url}" title="Advanced inference rules">{title}</a></li>',
                noResultsText: '<li><a class="empty">No results found</a></li>',
                limit: 10,
                fuzzy: true
            });
        </script>
        <!--end search-->
    <li class="sidebarTitle">Grakn Academy </li>
    
    

        
        <li>
            
            <li><a href="/academy/index.html">Academy home</a></li>
            
        </li>
        
        
    
    
    <li>
        <a href="#">1. Welcome to the Academy</a>
        <ul>
            
            
            
            <li><a href="/academy/grakn-intro.html">1.1 What is Grakn</a></li>
            
            
            
            
            
            
            <li><a href="/academy/setup.html">1.2 Academy Setup</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">2. Graql language</a>
        <ul>
            
            
            
            <li><a href="/academy/graql-intro.html">2.1 Graql introduction</a></li>
            
            
            
            
            
            
            <li><a href="/academy/get-queries.html">2.2 Get Queries</a></li>
            
            
            
            
            
            
            <li><a href="/academy/insert-delete-queries.html">2.3 Insert and Delete queries</a></li>
            
            
            
            
            
            
            <li><a href="/academy/other-queries.html">2.4 Other queries</a></li>
            
            
            
            
            
            
            <li><a href="/academy/graql-review.html">Module Review</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">3. Grakn schemas</a>
        <ul>
            
            
            
            <li><a href="/academy/schema-elements.html">3.1 Schema elements</a></li>
            
            
            
            
            
            
            <li><a href="/academy/conceptual-modeling-intro.html">3.2 Conceptual modeling</a></li>
            
            
            
            
            
            
            <li><a href="/academy/schema-building.html">3.3 Schema building</a></li>
            
            
            
            
            
            
            <li><a href="/academy/schema-building-continued.html">3.4 Schema building part II</a></li>
            
            
            
            
            
            
            <li><a href="/academy/schema-review.html">Module Review</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">4. Loading data</a>
        <ul>
            
            
            
            <li><a href="/academy/loading-files.html">4.1 Loading files</a></li>
            
            
            
            
            
            
            <li><a href="/academy/csv-migration.html">4.2 Data migration - CSV</a></li>
            
            
            
            
            
            
            <li><a href="/academy/xml-migration.html">4.3 Data migration - XML and JSON</a></li>
            
            
            
            
            
            
            <li><a href="/academy/migration-review.html">Module Review</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">5. Logic inference</a>
        <ul>
            
            
            
            <li><a href="/academy/reasoner-intro.html">5.1 Logic inference</a></li>
            
            
            
            
            
            
            <li><a href="/academy/inference-rules.html">5.2 Inference rules</a></li>
            
            
            
            
            
            
            <li class="active"><a href="/academy/advanced-rules.html">5.3 Advanced reasoning</a></li>
            
            
            
            
            
            
            <li><a href="/academy/reasoner-review.html">Module Review</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">6. Large scale analytics</a>
        <ul>
            
            
            
            <li><a href="/academy/analytics-intro.html">6.1 Distributed analytics</a></li>
            
            
            
            
            
            
            <li><a href="/academy/statistics-queries.html">6.2 Statistics queries</a></li>
            
            
            
            
            
            
            <li><a href="/academy/graph-analytics.html">6.3 Graph analytics</a></li>
            
            
            
            
            
            
            <li><a href="/academy/analytics-review.html">Module Review</a></li>
            
            
            
            
        </ul>
        
        

        
        
    

        
        <li>
            
            <li><a href="/index.html">Documentation Portal</a></li>
            
        </li>
        
        
        <!-- if you aren't using the accordion, uncomment this block:
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           -->
    </li>
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

        </div>
        <!-- Content Column -->
        <div class="col-md-9 col-content">
            <div class="post-header">
   <h1 class="post-title-main">Advanced inference rules</h1>
</div>



<div class="post-content">

   
    <div class="summary">In this lesson you will learn more advanced uses of reasoning and how to chain inference rules.</div>
   

    

    

    

    

  <p>In the last session you have built a Reasoner rule to connect the articles in your knowledge base to the relevant bonds according to the query you have been examining since the start of module 2. If everything went right, you should then have a file called <code class="highlighter-rouge">rules.gql</code> that looks like this:</p>

<pre><code class="language-graql">define

referendum-bond sub rule

  when {
        $article isa article has subject "Italian Referendum";
        $platform isa oil-platform has distance-from-coast &lt;= 18;
        $italy isa country has name "Italy";
        (located: $platform, location: $country) isa located-in;
        (owned: $platform, owner: $company) isa owns;
        (issued: $bond, issuer: $company) isa issues;
      }

  then {
        (information: $article, affected: $bond) isa affects;
      };
</code></pre>

<p>This rule alone would work, but it is very specific. Besides, it would not link, for example, the articles to the oil platform, but only to the bonds. And the latter connection is definitely an indirect one.</p>

<p>Let’s fix this.</p>

<h2 id="breaking-the-rule">Breaking the rule</h2>
<p>If you think about it, there are two levels into answering the question “what are the bonds affected by the Italian referendum?”. As I said above, that connection is indirect, but what we are really asking is: “What are the oil platforms affected by the Italian referendum?” and then “What are the bonds issued by companies owning those platforms?”.</p>

<p>Let’s do it step by step. The first stage is to rewrite the rule above so that it links the articles to the oil platforms instead of the bonds. This should be pretty easy.</p>

<pre><code class="language-graql">define

article-platform  sub rule

  when {
        $article isa article has subject "Italian Referendum";
        $platform isa oil-platform has distance-from-coast &lt;= 18;
        $italy isa country has name "Italy";
        (located: $platform, location: $country) isa located-in;
    }

  then {
        (information: $article, affected: $platform) isa affects;
    };
</code></pre>

<p>The rule above will link the articles about the Italian referendum to the relevant oil platform instead of the bond. What should be done next? How we translate the question “What are the bonds issued by companies owning those platforms?” into a rule?</p>

<p>Once again it is very easy:</p>

<pre><code class="language-graql">define

article-bond  sub rule

  when {
        $article isa article has subject "Italian Referendum";
        $platform isa oil-platform;

        # The following relationship is not in the data
        # This rule needs the rule above to

        (information: $article, affected: $platform) isa affects;

        (owned: $platform, owner: $company) isa owns;
        (issued: $bond, issuer: $company) isa issues;
      }

  then {
        (information: $article, affected: $bond) isa affects;
    };
</code></pre>

<p>This new rule checks for the articles about the Italian referendum linked to a platform and then links the same articles to bonds issued by companies owning those platforms.</p>

<p>But we already know that in our data there are no links between articles and anything else, let alone oil platforms, so how can this rule work? The answer is that Reasoner knows that the first rule can link the articles to the oil platform and so that the results of the first rule can in fact change the results of the second one. It takes care of considering the rule in the correct order no matter how many you write and chain them for you. It’s just a bit more of Grakn magic…</p>

<h2 id="but-why">But… why?</h2>
<p>Ok, we have created two rules to link the articles on the Italian referendum to the relevant bonds… which is something that we had achieved with only one rule so why would you want to do that?
There are multiple reasons, in fact. The first one is that this way you will have linked also the articles to the appropriate oil platform, which makes a lot of sense since that is more precisely what is affected by the Italian referendum.
The second reason can become evident if you modify the second rule like so:</p>

<pre><code class="language-graql">define

article-bond-new  sub rule

  when {
        (information: $article, affected: $platform) isa affects;
        (owned: $platform, owner: $company) isa owns;
        (issued: $bond, issuer: $company) isa issues;
      }

  then {
        (information: $article, affected: $bond) isa affects;
      };
</code></pre>

<p>This new rule is much more generic: it brings whatever is affects whatever is linked to an oil platform and connect it to the bonds issued by companies owning that platform. So it still work in our case, but it is more powerful. If we find, for example articles about an oil spills in a specific platform and we add the link to the platform in our knowledge base, the article will also show up with the relevant bonds.</p>

<p>So this new rule is much more useful: it is telling us that everything that affects an oil platform might potentially affect the bond issued by their owner.</p>

<h2 id="can-you-explain-that">Can you explain that?</h2>
<p>Save the two rules in their latest version in your <code class="highlighter-rouge">rules.gql</code> file and load them into your knowledge base as you have learned in the <a href="./loading-files.html">last module</a>.</p>

<p>Making sure that the Grakn distribution in the VM is running, open the dashboard and make sure that the inference is turned on as shown below</p>

<p><img src="/images/academy/5-reasoner/inference-settings.png" alt="Inference settings" /></p>

<p>Then run this query and see what happens:</p>

<pre><code class="language-graql">match $x isa article;
$y isa bond; ($x, $y);
get;
</code></pre>

<p>Now compare the query above with its extended version:</p>

<pre><code class="language-graql">match
$article isa article has subject "Italian Referendum";
$platform isa oil-platform has distance-from-coast &lt;= 18;
(location: $country, located: $platform) isa located-in;
$country isa country has name "Italy";
(owner: $company, owned: $platform) isa owns;
(issuer: $company, issued: $bond) isa issues;
limit 3; get $bond, $article;
</code></pre>

<p>Not bad eh?</p>

<p>This is one good example that shows both how Reasoner can be used for shortening queries and to infer new information (remember: the link between the articles and the bonds is not in the data!).</p>

<p>There is one more trick up Reasoner’s sleeve to be learned before we proceed to the next topic.</p>

<p>Run the query to find the articles and the linked bonds again and click on the small circles connecting the bonds and the articles.</p>

<p><img src="/images/academy/5-reasoner/inferred-relationships.png" alt="Inferred relationships" /></p>

<p>If you look at the panel that shows up, you will see that that circles is representing an “inferred relationship”, i.e. a relationship that is not in your data, but has been added by Reasoner.
So we know that those bonds and those platforms are connected, but why it is so? Double click the small circle and check what happens:</p>

<p><img src="/images/academy/5-reasoner/bond-explanation.png" alt="Explanation example 1" /></p>

<p>What you have just witnessed is the action of the explanation facility. What this means is that when you double click on an inferred relationship, Reasoner will tell you exactly why that relationship has been inferred and then you will see the explanation with the graph visualiser.</p>

<p>If you check carefully the explanation that has been added to your visualiser, you will see that there is another inferred relationship. This is result of the first inference rule.</p>

<h3 id="what-have-you-learned">What have you learned?</h3>
<p>In this lesson you have learned how rules chaining works in reasoner (not much to do on your side: it just works) and how to use the explanation facility. There are still many things to discover, but you are ready to build powerful knowledge bases with Grakn and to take full advantage of its capabilities! Well done!</p>

<h2 id="what-next">What next</h2>
<p>One last thing to do before we proceed to the next module: it is time to <a href="./reasoner-review.html">review your knowledge</a> about logic reasoning.</p>



    <div class="tags">
        
        <b>Tags: </b>
        
        
        
        <a href="/tag_getting-started.html" class="btn btn-default navbar-btn cursorNorm" role="button">getting-started</a>
        
        
        
        <a href="/tag_graql.html" class="btn btn-default navbar-btn cursorNorm" role="button">graql</a>
        
        
        
    </div>

    

</div>

<!-- <hr class="shaded"/> -->


            <div class="footer">
    <div class="container footer__container footer__social">
       <div class="footer__social__buttons"><a href="https://twitter.com/graknlabs" target="_blank"><i class="fa fa-twitter"></i></a><a href="https://www.facebook.com/groups/1913787625527508/" target="_blank"><i class="fa fa-facebook-f"></i></a><a href="http://linkedin.com/organization/graknlabs" target="_blank"><i class="fa fa-linkedin"></i></a><a href="https://github.com/graknlabs/grakn" target="_blank"><i class="fa fa-github"></i></a></div>
       <div class="footer__social__signup"><input id="footer-subscribe-input" type="text" value="" placeholder="Subscribe to our newsletter"><button id="footer-subscribe-btn" class="button-footer--red">Subscribe</button></div>
       <span id="footer__consent">By submitting your personal data, you consent to emails from Grakn. See our <a href="https://grakn.ai/privacy-policy" className="animated__link animated__link--purple">Privacy Policy</a></span>
    </div>
    <div class="container footer__container">
       <div class="footer__block">
          <div class="footer__block__header">GET IN TOUCH</div>
          <div class="footer__block__links">
             <a href="https://github.com/graknlabs/grakn" target="_blank" class="footer__block__links--github">
                <img src="/images/github.svg" alt="github"><strong id="download_footer">Grakn</strong><!-- react-text: 237 --> on Github<!-- /react-text -->
             </a>
             <a class="footer__block__links--slack" href="https://grakn.ai/slack">
                <img src="/images/slack-mark.svg" alt="slack"><strong>Grakn</strong><!-- react-text: 241 --> on Slack<!-- /react-text -->
             </a>
             <a href="mailto:enterprise@grakn.ai">
                <i class="fa fa-phone" aria-hidden="true"></i><!-- react-text: 244 -->Get in touch<!-- /react-text -->
             </a>
             <div class="footer__block__links--address">
                <span>
                   <i class="fa fa-map-marker" aria-hidden="true"></i><!-- react-text: 248 -->Unit 22, 8 Hornsey St.<!-- /react-text -->
                </span>
                <span> London N7 8EG, UK </span><a href="mailto:info@grakn.ai">info@grakn.ai</a>
             </div>
          </div>
       </div>
       <div class="footer__block">
          <div class="footer__block__header">PRODUCTS</div>
          <div class="footer__block__links"><a href="https://grakn.ai/grakn-core">Grakn Core</a><a href="https://grakn.ai/grakn-kbms">Grakn KBMS</a><a href="https://dev.grakn.ai/documentation/get-started/quickstart-tutorial">Quickstart</a><a href="https://grakn.ai/download">Install</a></div>
       </div>
       <div class="footer__block">
          <div class="footer__block__header">SOLUTIONS</div>
          <div class="footer__block__links"><a href="https://grakn.ai/deployment">Deployment</a><a href="https://grakn.ai/services">Services</a><a href="https://grakn.ai/support">Support</a></div>
       </div>
       <div class="footer__block">
          <div class="footer__block__header">USE CASES</div>
          <div class="footer__block__links"><a href="https://grakn.ai/usecase-bots">Intelligent Bots</a><a href="https://grakn.ai/usecase-search">Semantic Search</a><a href="https://grakn.ai/usecase-finance">Financial Services</a><a href="https://grakn.ai/usecase-health">Life Sciences</a><a href="https://grakn.ai/usecase-security">Security</a></div>
       </div>
       <div class="footer__block">
          <div class="footer__block__header">DEVELOPER</div>
          <div class="footer__block__links"><a href="https://dev.grakn.ai/academy/">Academy</a><a href="https://dev.grakn.ai">Documentation</a><a href="https://grakn.ai/community">Community</a><a href="https://discuss.grakn.ai/">Discuss</a><a href="https://github.com/graknlabs/grakn" target="_blank">Github</a></div>
       </div>
       <div class="footer__block">
          <div class="footer__block__header">COMPANY</div>
          <div class="footer__block__links"><a href="https://blog.grakn.ai/" target="_blank">Blog</a><a href="https://grakn.ai/careers">Careers</a><a href="https://grakn.ai/about">About</a></div>
       </div>
    </div>
 </div>
        </div>
    </div>
</div>
<!-- /.container -->
</body>


<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-72414051-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>


</html>